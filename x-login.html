<script src="/node_modules/camomile-client/camomile.js"></script>

<link rel="import"  href="/bower_components/polymer/polymer-element.html">

<dom-module id="x-login">

    <template>
        <form action="#">
            <label id="User"><input type="text" name="user"/></label>
            <label id="Password"><input type="password" name="password"/></label>
            <input type="submit" value="login" />
        </form>
    </template>

    <script>
        class XLogin extends Polymer.Element {
            static get is() { return "x-login"; }
            constructor() {
                super();
            }

            ready() {
                super.ready();
                console.log("id: "+this.id);
                console.log("src: "+this.src);
                const self=this;
                setTimeout(function() {
                    const url=document.getElementById(self.src).url;
                    console.log("camomile url : "+url);
                    this.camomile=new Camomile(url);
                },1000);
                //this.camomile.login()
            }
            static get properties() {
                return {
                    src: {
                        type: String
                    },
                    id: {
                        type: String
                    }
                };
            }
        }
        customElements.define(XLogin.is, XLogin);
    </script>

</dom-module>